<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LockedIn - Accountability Social Media</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DFN04Y0K71"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-DFN04Y0K71');
    </script>
</head>

<body>
    <div class="nav">
        <div class="logo-container" id="logo-container">
            <div class="logo">Locked</div>
            <img src="logo.png" class="logophoto" alt="Logo Photo">
        </div>
        <div class="links">
            <a href="#features">Features</a>
            <a href="#waitlist" id="nav-waitlist">Waitlist</a>
            <a href="https://discord.com/invite/N2jSwSZr8g" id="nav-discord">Beta Test</a>
        </div>
    </div>
    <div class="hero">
        <div class="hero-text">
            <h1>Stay Accountable. Achieve More. 🚀</h1>
            <p>Get LockedIn with friends to build new habits, improve existing ones, and stay motivated together.
                LockedIn offers insights and accountability to ensure your success. We're looking for BETA testers to
                help us improve LockedIn and launch!</p>
            <button class="button" id="join-waitlist-button">Join the Waitlist</button>
            <button class="button discord" id="join-beta-test-button">Join Beta Test</button>
        </div>
        <img src="LockedIn.png" alt="App Screenshot" class="app-image">
    </div>
    <div class="features" id="features">
        <div class="feature">
            <h3>Track Your Progress 📈</h3>
            <p>Keepp a daily log of your activities and see how far you've come.</p>
        </div>
        <div class="feature">
            <h3>Stay Motivated 💪</h3>
            <p>Connect with friends and share your progress to stay motivated.</p>
        </div>
        <div class="feature">
            <h3>Achieve Your Goals 🏆</h3>
            <p>Set goals and crush them with the support of the LockedIn community.</p>
        </div>
    </div>
    <div class="cta" id="waitlist-section">
        <h2>Get Early Access 🎉</h2>
        <p>Join our waitlist to be one of the first to try LockedIn.</p>
        <form id="waitlist-form">
            <input type="email" id="email" placeholder="Enter your email" required>
            <br>
            <button type="submit" class="button" id="form-join-waitlist-button">Join Waitlist</button>
        </form>
    </div>
    <div class="footer">
        © 2024 LockedIn. All rights reserved.
    </div>
    <script>
        // Function to track events
        function trackEvent(action, label) {
            gtag('event', action, {
                'event_category': 'Button Click',
                'event_label': label
            });
        }

        // Event listeners for button clicks
        document.getElementById('join-waitlist-button').addEventListener('click', function () {
            trackEvent('click', 'Join Waitlist Button');
            document.getElementById('waitlist-section').scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('join-beta-test-button').addEventListener('click', function () {
            trackEvent('click', 'Join Beta Test Button');
            window.location.href = 'https://discord.gg/N2jSwSZr8g';
        });

        document.getElementById('form-join-waitlist-button').addEventListener('click', function () {
            trackEvent('click', 'Form Join Waitlist Button');
        });

        document.getElementById('nav-waitlist').addEventListener('click', function (e) {
            e.preventDefault();
            trackEvent('click', 'Nav Waitlist');
            document.getElementById('waitlist-section').scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('nav-discord').addEventListener('click', function () {
            trackEvent('click', 'Nav Discord');
        });

        document.getElementById('logo-container').addEventListener('click', function () {
            trackEvent('click', 'Logo Click');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        document.getElementById('waitlist-form').addEventListener('submit', function (e) {
            e.preventDefault();
            const email = document.getElementById('email').value;

            fetch('/api/waitlist', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ email })
            })
                .then(response => response.text())
                .then(data => {
                    alert(data);
                    document.getElementById('waitlist-form').reset();
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('There was an error adding your email to the waitlist.');
                });
        });
    </script>
</body>

</html>